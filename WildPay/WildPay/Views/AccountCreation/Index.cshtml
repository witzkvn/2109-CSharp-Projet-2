@model WildPay.Models.User

@{
    if (Session["Id"] != null)
    {
        Response.Redirect("~/Expense/Index");
    }
}


<div class="login-page">
    <h2>Bienvenue sur WildPay !</h2>

    @using (Html.BeginForm())
    {
        @Html.ValidationSummary(true)

        <div id="login-wrapper" class="box">
            <h3>Créer un nouveau compte</h3>

            <div class="form-group">
                @Html.LabelFor(Model => Model.Lastname)
                @Html.TextBoxFor(Model => Model.Lastname, new { @class = "form-control", type = "text", minlength = 2, maxlength = 20 })
                <p class="error">
                    @Html.ValidationMessageFor(Model => Model.Lastname)
                </p>
            </div>

            <div class="form-group">
                @Html.LabelFor(Model => Model.Firstname)
                @Html.TextBoxFor(Model => Model.Firstname, new { @class = "form-control", type = "text", minlength = 2, maxlength = 20 })
                <p class="error">
                    @Html.ValidationMessageFor(Model => Model.Firstname)
                </p>
            </div>

            <div class="form-group">
                @Html.LabelFor(Model => Model.Email)
                @Html.EditorFor(Model => Model.Email)
                <p class="error">
                    @Html.ValidationMessageFor(Model => Model.Email)
                </p>
            </div>

            <div class="form-group">
                @Html.LabelFor(Model => Model.Password)
                @Html.TextBoxFor(Model => Model.Password, new { @class = "form-control", type = "password", minlength = 5, maxlength = 30,
               pattern= "(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{5,}", 
               title="Le mot de passe doit comporter au moins un chiffre, une lettre majuscule, une minuscule et faire au moins cinq caractères"})
                <p class="error">
                    @Html.ValidationMessageFor(Model => Model.Password)
                </p>


            </div>

            <p class="error">
                @ViewBag.Message
            </p>

            <button class="btn btn-primary" type="submit">
                Inscription
            </button>
            <a href="@Url.Action("Index", "Connexion")">Déjà un compte ? Connexion</a>

        </div>
    }


</div>

