@model WildPay.Models.Group
@using WildPay.Models

@{
    ViewBag.Title = "Edit";
}

<div class="expense-edition-page">
    <h2>Edition du groupe</h2>

    <div class="box">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.Id)


                <div class="form-group">
                    @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                    <p class="error">
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </p>
                </div>

                <div class="form-group">
                    <label for="auteur-select">Ajouter un membre (mail)</label>
                    <input type="email" name="memberMail" />
                </div>

                <div class="expense-edition-buttons">

                    @{
                        if (Model.Id != 0)
                        {
                            <a href="@Url.Action("DeleteGroup", "Groups", new { groupId = Model.Id })">
                                <input type="button" class="btn btn-warning" value="Supprimer" />
                            </a>
                        }
                    }

                    <button class="btn btn-primary" type="submit">
                        Valider
                    </button>
                </div>

                <div class="groupe-membres">
                <h3>Membres du groupe</h3>
                    @{
                        foreach (User user in ViewBag.listeUsers)
                        {
                            <p>@user.Email</p>
                        }
                    }
                </div>


        }
    </div>

    


</div>
    
@if (ViewBag.groupToDelete != null)
{
    Group groupASuppr = ViewBag.groupToDelete;
    @Html.Partial("_DeleteConfirmation", groupASuppr);
}
